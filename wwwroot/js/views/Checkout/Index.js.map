{"version":3,"file":"Index.js","mappings":"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","sources":["webpack://vjs/webpack/universalModuleDefinition","webpack://vjs/./Views/Checkout/Index.ts","webpack://vjs/webpack/before-startup","webpack://vjs/webpack/startup","webpack://vjs/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vjs\"] = factory();\n\telse\n\t\troot[\"vjs\"] = factory();\n})(self, () => {\nreturn ","declare const vdata: {\r\n    actions: {\r\n        deleteSalesOrderLine: string;\r\n        editSalesOrderLine: string;\r\n        updateDeliveryAddress: string;\r\n    };\r\n    localizer: {\r\n    };\r\n    settings: {\r\n        organizationID: string;\r\n        salesOrderID: string;\r\n        separator: string;\r\n    };\r\n};\r\n\r\nfunction deleteSalesOrderLine(salesOrderLineID: string) {\r\n    return $.post({\r\n        url: vdata.actions.deleteSalesOrderLine,\r\n        data: {\r\n            salesOrderID: vdata.settings.salesOrderID,\r\n            salesOrderLineID: salesOrderLineID\r\n        }\r\n    }).done(() => {\r\n        console.log(`Sales order line ${salesOrderLineID} was deleted.`);        \r\n    }).fail(corprio.formatError);\r\n}\r\n\r\nfunction saveSalesOrderLine(salesOrderLineID: string, quantity: number) {\r\n    return $.post({\r\n        url: vdata.actions.editSalesOrderLine,\r\n        data: {\r\n            salesOrderID: vdata.settings.salesOrderID,\r\n            salesOrderLineID: salesOrderLineID,\r\n            quantity: quantity\r\n        }\r\n    }).done(() => {\r\n        console.log(`Sales order line ${salesOrderLineID} was updated.`);\r\n    }).fail(corprio.formatError);\r\n}\r\n\r\nfunction updateDeliveryAddress(addressString: string) {\r\n    return $.post({\r\n        url: vdata.actions.updateDeliveryAddress,\r\n        data: {\r\n            salesOrderID: vdata.settings.salesOrderID,\r\n            addressString: addressString\r\n        }\r\n    }).done(() => {\r\n        console.log(`Delivery address for ${vdata.settings.salesOrderID} was updated.`);\r\n    }).fail(corprio.formatError);\r\n}\r\n\r\nasync function confirmDeliveryAddress() {    \r\n    const line1 = $.trim(String($('#DeliveryAddress_Line1').val()));\r\n    if (line1 === '') {\r\n        $('#address-feedback1').show();\r\n        return;\r\n    }\r\n    $('#address-feedback1').hide();\r\n\r\n    const countryCode = $.trim(String($('input[name=\"DeliveryAddress_CountryAlphaCode\"]').val()));\r\n    if (countryCode !== '' && countryCode.length != 2) {\r\n        $('#address-feedback2').show();\r\n        return;\r\n    }    \r\n    $('#address-feedback2').hide();\r\n\r\n    const addressString = line1 + vdata.settings.separator +\r\n        $('#DeliveryAddress_Line2').val() + vdata.settings.separator +\r\n        $('#DeliveryAddress_City').val() + vdata.settings.separator +\r\n        $('#DeliveryAddress_State').val() + vdata.settings.separator +\r\n        $('#DeliveryAddress_PostalCode').val() + vdata.settings.separator +\r\n        countryCode;\r\n    \r\n    await updateDeliveryAddress(addressString);\r\n    return;\r\n}\r\n\r\nasync function deleteRow(obj: HTMLElement) {        \r\n    // note: the event target is supposed to be a button within a td within a tr\r\n    const $row = $(obj.parentNode.parentNode);\r\n    if (!$row.is('tr')) { return; }\r\n\r\n    const salesOrderLineID = String($(obj.parentNode).find('input').val());\r\n    await deleteSalesOrderLine(salesOrderLineID);\r\n    $row.remove();\r\n    return;\r\n}\r\n\r\nfunction editRow(obj: HTMLElement) {    \r\n    // note: the event target is supposed to be a button within a td within a tr\r\n    const $row = $(obj.parentNode.parentNode);\r\n    if (!$row.is('tr')) { return; }\r\n\r\n    const $input = $row.find('.sales-order-line-qty').find('.qty-face-value');\r\n    $input.removeAttr('disabled');\r\n\r\n    // display the quantity that is NOT rounded    \r\n    const unroundedQuantity = parseFloat(String($input.parent().find('.qty-true-value').val()));\r\n    if (!isNaN(unroundedQuantity)) {        \r\n        $input.val(unroundedQuantity);\r\n    }\r\n\r\n    $(obj.parentNode).find('.save-line-btn').show();\r\n    $(obj).hide();    \r\n    return;\r\n}\r\n\r\nasync function saveRow(obj: HTMLElement) {    \r\n    // note: the event target is supposed to be a button within a td within a tr\r\n    const $row = $(obj.parentNode.parentNode);\r\n    if (!$row.is('tr')) { return; }\r\n\r\n    const $input = $row.find('.sales-order-line-qty').find('.qty-face-value');    \r\n    const quantity = parseFloat(String($input.val()));\r\n    if (isNaN(quantity) || quantity <= 0) {\r\n        $input.addClass('is-invalid');\r\n        return;\r\n    }\r\n    $input.removeClass('is-invalid');\r\n\r\n    $input.attr('disabled', 'disabled');    \r\n    $input.parent().find('.qty-true-value').val(quantity);  // save the quantity that is NOT rounded in the hidden input\r\n    $input.val(quantity.toFixed(2));  // display the quantity that is rounded\r\n    const salesOrderLineID = String($(obj.parentNode).find('input').val());\r\n    $(obj.parentNode).find('.edit-line-btn').show();\r\n    $(obj).hide();    \r\n    await saveSalesOrderLine(salesOrderLineID, quantity);\r\n    return;\r\n}\r\n\r\n$(async function () {    \r\n    $('.save-line-btn').hide().on('click', function () { saveRow(this) });\r\n    $('.edit-line-btn').on('click', function () { editRow(this) });\r\n    $('.delete-line-btn').on('click', function () { deleteRow(this) });\r\n    $('#confirm-address-btn').on('click', confirmDeliveryAddress);\r\n});","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[\"./Views/Checkout/Index.ts\"](0, __webpack_exports__);\n",""],"names":[],"sourceRoot":""}